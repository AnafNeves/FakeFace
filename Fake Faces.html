<!-- Load jsPsych-->
<!DOCTYPE html>
<html>

<head>
    <!--create title shown in tab; not the same as header on webpage-->
    <title>Real_Fake</title>
    <!--load the jsPsych library; set src to own path-->
    <script src="https://unpkg.com/jspsych@7.2.3"></script>

    <!--Load all necessary plugins-->
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-likert@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-button-response@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-fullscreen@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-external-html@1.1.1"></script>

    <!--Load Stimuli and custom plugins-->
    <script src="https://realitybending.github.io/JSmisc/misc/utils.js"></script>
    <script src="parameters.js"></script>
    <script src="utils/images.js"></script>
    <script src="utils/plugin-survey-multiple-slider.js"></script>

    <!-- Default CSS -->
    <link href="https://unpkg.com/jspsych@7.2.3/css/jspsych.css" rel="stylesheet" type="text/css" />
    <style>
        #jspsych-image-keyboard-response-stimulus {
            /*adjust image stimuli params to fit screen*/
            height: auto;
            width: 800px;
        }

        body {
            /*Hide scrollbar while keeping it functional */
            overflow-y: scroll;
            overflow-x: flow;
        }

        Body::-webkit-scrollbar {
            display: none
        }

        /* .hide_cursor {
            cursor: none;
        } */
    </style>
</head>

<body></body>

<script>

    /* Initialize jsPsych ================================================================*/
    var jsPsych = initJsPsych({
        show_progress_bar: true,
        message_progress_bar: "Completion",
        on_finish: function () {
            jsPsych.data.displayData("json")
            jsPsych.data
                .get()
                .localSave(
                    "json",
                    `${jsPsych.data.get().values()[0]["participant_id"]
                    }_FF.json`
                )
        },
    });

    /* Experiment Variables =============================================================*/
    // Preload image stimuli to prevent lagging during experiment
    var preload_stimuli = {
        type: jsPsychPreload,
        auto_preload: true,
        trials: stimuli        // stimuli is a variable defined in utils/images.js
    };

    // Fullscreen Mode
    var fullscreen = {
        type: jsPsychFullscreen,
        fullscreen_mode: true
    }

    // Participant information
    var participant_id = jsPsych.randomization.randomID(15);
    var sex = {
        type: jsPsychSurveyMultiChoice,
        questions: [
            {
                prompt: "What is your assigned sex?",
                options: ["Male", "Female", "Other", "Prefer not to say"],
                name: "sex"
            }
        ],
        data: {
            screen: 'demographics'
        }
    }
    var participant_info = {
        type: jsPsychSurveyText,
        questions: [
            {
                prompt: "Please enter your age",
                name: "age"
            },
            {
                prompt: "What gender orientation do you most identify with?",
                name: "gender orientation"
            }
        ],
        on_finish: function () {
            jsPsych.data.addProperties({"participant_id": participant_id});
        },
        data: {
            screen: "demographics",
            date: new Date().toLocaleDateString("fr-FR"),
            time: new Date().toLocaleTimeString("fr-FR"),
        }
    }

    // Instructions
    var instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: "<div style='font-size:60px;'><b>Instructions</p></b></div>" +
            "<p>In this experiment, we are interested in the perception of real and computer-generated faces.</p>" +
            "<p> During the first part of the experiment, images of faces will appear on the center of the screen </p>" +
            "<p>About half of these images are of <b>real faces</b> and the other half are <b>computer-generated</b>.</p>" +
            "<p>Your task is to tell whether you think these images are <b>real</b> or <b>fake</b>.</p></br>",
        choices: ['Continue'],
        data: {screen: "instructions"},
    };

    var trial_instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: "<div style='text-align: left'><p>As we are interested in your first impressions, each image will be flashed very briefly.</p>" +
            "<p>Afterwards, you will be asked a series of questions related to the facial image you saw.</p>" +
            "<p>This includes questions about:</p></br>" +
            "<p><b>Attractiveness</b>: how aesthetically pleasing you find it</p>" +
            "<p><b>Sociability</b>: how warm and friendly you find it</p>" +  /*Jaegeret al., 2022*/
            "<p><b>Confidence</b>: how much you think it looks like someone sure of themselves</p>" +
            "<p><b>Familiarity</b>: how much you think it looks like someone you know</p>" +
            "<p><b>Similarity</b>: how much you think it looks like you </p></br></div>" +
            "<p>Please go with your gut and respond intuitively.</p>" +
            "<p>Click 'Continue' to begin</p>",
        choices: ['Continue'],
        data: {screen: "instructions"}
    }

    var trial_number = 1 // trial indexing variable starts at 1 for convenience

    // Fixation trial
    var fixation = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: '<div style="font-size:60px;">+</div>',
        choices: "NO_KEYS",
        trial_duration: function () {
            return randomInteger(500, 1000)
        },
        on_start: function () {
            ; (document.body.style.cursor = "none"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "none")
        },
    };

    //Stimuli block
    // var images = [];
    // for (var i = 10; i < 20; i++) {
    //     images.push({stimulus: "utils/Faces/NS1" + i + ".jpg"});
    // }

    // Loop through stimuli
    var stimuli_trial = {
        type: jsPsychImageKeyboardResponse,
        stimulus: jsPsych.timelineVariable('stimulus'),
        choices: "NO_KEYS",
        trial_duration: 500,   // jitter between 300 to 600?
        on_start: function () {
            ; (document.body.style.cursor = "none"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "none")
        },
        on_finish: function (data) {
            data.trial_number = trial_number
            trial_number += 1
        }
    };

    /* Questionnaires*======================================================================*/
    var trait_items1 = []

    // Add Item on Perception of Realness
    trait_items1.push({
        prompt: [""],
        name: "Real_Fake",
        ticks: ["<b>Fake</b>", "<b>Real</b>"],
        required: false
    })

    // Add Items on Confidence and Attractiveness
    for (const [index, element] of items.entries()) {
        trait_items1.push({
            prompt: element,
            name: dimensions[index],
            ticks: scale1,
            required: false
        })
    }

    var questionnaire = {
        type: jsPsychMultipleSlider,  // this is a custom plugin in utils
        questions: trait_items1,
        randomize_question_order: false,
        preamble: "<p> Please respond based on your gut feeling. </p></br>" +
            "<p><b>You found the face...</b></p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'questionnaire',
        }
    };

    // Add Items on Sociability, Approachability, Similarity, Trustworthiness and Familiarity
    var trait_items2 = []
    for (const [index, element] of items2.entries()) {
        trait_items2.push({
            prompt: element,
            name: dimensions2[index],
            ticks: scale1,
            required: false
        })
    }

    var questionnaire2 = {
        type: jsPsychMultipleSlider,
        questions: trait_items2,
        randomize_question_order: false,
        preamble: "<p><b>Would you find someone who looks like this...</b></p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'questionnaire',
        }
    };

    //Loop through fixation, stimuli and questionnaire blocks
    var test_procedure = {
        timeline: [fixation, stimuli_trial, questionnaire, questionnaire2],
        timeline_variables: stimuli,
        randomize_order: true,
        repetitions: 0
    };

    /* Big 6 Traits *==========================*/
    var IPIP_items = []
    for (const [index, element] of Mini_IPIP.entries()) {
        IPIP_items.push({
            prompt: element,
            name: IPIP_Dim[index],
            ticks: scale2,
            required: false
        })
    }

    var personality = {
        type: jsPsychMultipleSlider,
        questions: IPIP_items,
        randomize_question_order: false,
        preamble: "<p>For this part of the questionnaire, we are interested in finding out more about your traits and attributes.</p>" +
            "<p>Please answer the following questions based on how accurately each statement describes you.</p>" +
            "<p><b>I...</b></p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'IPIP6',
        }
    };

    /* Narcissism *==========================*/
    var FFNI_items = []
    for (const [index, element] of FFNI_BF.entries()) {
        FFNI_items.push({
            prompt: element,
            name: FFNI_Dim[index],
            ticks: scale2,
            required: false
        })
    }

    var narcissism = {
        type: jsPsychMultipleSlider,
        questions: FFNI_items,
        randomize_question_order: false,
        preamble: "<p>Please respond based on how much you agree or disagree with each each statement.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'narcissism',
        }
    };

    /* Paranoia *==========================*/
    var GPTS_items = []
    for (const [index, element] of R_GPTS.entries()) {
        GPTS_items.push({
            prompt: element,
            name: GPTS_Dim[index],
            ticks: scale1,
            required: false
        })
    }

    var paranoia = {
        type: jsPsychMultipleSlider,
        questions: GPTS_items,
        randomize_question_order: false,
        preamble: "<p>In this part of the questionnaire, each statement below refers to thoughts and feelings you may have had <b>about others over the last month.</b></p>" +
            "<p>Please think about the last month and indicate the extent to which you think each of these feelings apply to you.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'paranoia',
        }
    };

    /* Magical Thinking *==========================*/
    var IBI_items = []
    for (const [index, element] of IBI.entries()) {
        IBI_items.push({
            prompt: element,
            name: IBI_Dim[index],
            ticks: scale1,
            required: false
        })
    }

    var MagicIdeation = {
        type: jsPsychMultipleSlider,
        questions: IBI_items,
        randomize_question_order: false,
        preamble: "<p>Please read the statements below carefully and indicate the extent to which each of these feelings apply to you.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'magical_ideation',
        }
    }

    /* Trait and State Anxiety *==========================*/
    var state_anxiety_items = []
    for (const [index, element] of STAIS.entries()) {
        state_anxiety_items.push({
            prompt: element,
            name: "State_Anx_" + (index + 1),
            ticks: scale2,
            required: false
        })
    }

    var state_anx = {
        type: jsPsychMultipleSlider,
        questions: state_anxiety_items,
        randomize_question_order: false,
        preamble: "<p>A number of statements which people have used to describe themselves are given below.</p>" +
            "Please read each statement and indicate <b>how you feel right now</b>, that is, at this moment.</p>" +
            "<p>There are no right or wrong answers.</p>" +
            "<p>Do not spend too much time on any one statement but give the answer which seems to describe your present feelings best.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'state_anxiety',
        }
    }

    var trait_anxiety_items = []
    for (const [index, element] of STAIT.entries()) {
        trait_anxiety_items.push({
            prompt: element,
            name: "Trait_Anx_" + (index + 1),
            ticks: scale2,
            required: false
        })
    }

    var trait_anx = {
        type: jsPsychMultipleSlider,
        questions: trait_anxiety_items,
        randomize_question_order: false,
        preamble: "<p>A number of statements which people have used to describe themselves are given below.</p>" +
            "Please read each statement and indicate <b>how you generally feel.</b></p>" +
            "<p>There are no right or wrong answers.</p>" +
            "<p>Do not spend too much time on any one statement but give the answer which seems to describe how you generally feel best.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'trait_anxiety',
        }
    }

    /* Self Concept Clarity*==========================*/
    var self_concept_items = []
    for (const [index, element] of SCC.entries()) {
        self_concept_items.push({
            prompt: element,
            name: SCC_Dim[index],
            ticks: scale2,
            required: false
        })
    }
    // var self_concept = self_concept.map(item =>{
    //     if (item.name != 'SCC_6' && item.name != 'SCC_11')
    //         item["Reverse-Code"]= "False"
    //     else
    //         item["Reverse-Code"]= "True";
    //     return item;
    // });

    var self_concept_clarity = {
        type: jsPsychMultipleSlider,
        questions: self_concept_items,
        randomize_question_order: false,
        preamble: "<p>Please read the statements below carefully and indicate the extent to which you agree with each statement.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'self_concept_clarity',
        }
    }

    /* Intolerance to Uncertainty *==========================*/
    var IUS_items = []
    for (const [index, element] of IUS.entries()) {
        IUS_items.push({
            prompt: element,
            name: "IUS_" + (index + 1),
            ticks: scale2,
            required: false
        })
    }

    var intolerance = {
        type: jsPsychMultipleSlider,
        questions: IUS_items,
        randomize_question_order: false,
        preamble: "<p>Please read the statements below carefully and indicate the extent to which you agree with each statement.</p>",
        require_movement: false,
        slider_width: 800,
        min: 0,
        max: 100,
        slider_start: 50,
        on_start: function () {
            ; (document.body.style.cursor = "auto"),
                (document.querySelector(
                    "#jspsych-progressbar-container"
                ).style.display = "inline")
        },
        data: {
            screen: 'uncertainty_intolerance',
        }
    }

    /* End Experiment *=========================================*/
    var end_screen = {
        type: jsPsychHtmlButtonResponse,
        stimulus: "<p>You have come to the end of this study. </p>" +
            "<p>Thank you for participating!</p>",
        choices: ['End'],
    }

    var fullscreen_off = {
        type: jsPsychFullscreen,
        fullscreen_mode: false,
    }


    /* Run the experiment=====================================================*/
    var timeline = [preload_stimuli, fullscreen, sex, participant_info,
        instructions, trial_instructions, //test_procedure,
        personality, narcissism, paranoia, MagicIdeation, state_anx, trait_anx,
        self_concept_clarity, intolerance, end_screen, fullscreen_off];


    jsPsych.run(timeline);


     // Add Real/Fake Questions
    //Real or Fake Trial Block
    // var real_fake_items = {
    //     type: jsPsychSurveyMultiChoice,
    //     questions: [{
    //         prompt: "The face you just saw is",
    //         name: 'Real_Fake',
    //         options: ["Real", "Fake"],
    //         required: false
    //     }],
    //     data: {screen: 'real_fake'},
    //     on_start: function () {
    //         ; (document.body.style.cursor = "auto"),
    //             (document.querySelector(
    //                 "#jspsych-progressbar-container"
    //             ).style.display = "inline")
    //     },
    //     on_finish: function (data) {
    //         data.trial_number = trial_number
    //         trial_number += 1
    //     }
    // };

    // Psychosis of participant
    // var scale4 = ["Never", "Sometimes", "Often", "Nearly always"];
    // var scale5 = ["Not distressed", "A bit distressed", "Quite distressed", "Very distressed"]
    // var CAPE42 = {
    //     type: jsPsychSurveyLikert,
    //     questions: [
    //         {prompt: "1. Do you ever feel sad?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},
    //         {prompt: "2. Do you ever feel as if people seem to drop hints about you or say things with a double meaning?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},
    //         {prompt: "3. Do you ever feel that you are not a very animated person?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "4. Do you ever feel that you are not much of a talker when you are conversing with other people?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "5. Do you ever feel as if things in magazines or on TV were written especially for you?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "6. Do you ever feel as if some people are not what they seem to be?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "7. Do you ever feel as if you are being persecuted in some way?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "8. Do you ever feel that you experience few or no emotions at important events?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "9. Do you ever feel pessimistic about everything?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "10. Do you ever feel as if there is a conspiracy against you?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "11. Do you ever feel as if you are destined to be someone very important?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "12. Do you ever feel as if there is no future for you?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "13. Do you ever feel that you are a very special or unusual person?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "14. Do you ever feel as if you do not want to live anymore?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "15. Do you ever think that people can communicate telepathically?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "16. Do you ever feel that you have no interest to be with other people?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "17. Do you ever feel as if electrical devices such as computers can influence the way you think?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "18. Do you ever feel that you are lacking in motivation to do things?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "19. Do you ever cry about nothing?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "20. Do you believe in the power of witchcraft, voodoo or the occult?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "21. Do you ever feel that you are lacking in energy?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "22. Do you ever feel that people look at you oddly because of your appearance?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "23. Do you ever feel that your mind is empty?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "24. Do you ever feel as if the thoughts in your head are being taken away from you?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "25. Do you ever feel that you are spending all your days doing nothing?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "26. Do you ever feel as if the thoughts in your head are not your own?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "27. Do you ever feel that your feelings are lacking in intensity?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "28. Have your thoughts ever been so vivid that you were worried other people would hear them?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "29. Do you ever feel that you are lacking in spontaneity?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "30. Do you ever hear your own thoughts being echoed back to you?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "31. Do you ever feel as if you are under the control of some force or power other than yourself?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "32. Do you ever feel that your emotions are blunted?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "33. Do you ever hear voices when you are alone?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "34. Do you ever hear voices talking to each other when you are alone?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "35. Do you ever feel that you are neglecting your appearance or personal hygiene?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "36. Do you ever feel that you can never get things done?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "37. Do you ever feel that you have only few hobbies or interests?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "38. Do you ever feel guilty?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "39. Do you ever feel like a failure?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "40. Do you ever feel tense?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "41. Do you ever feel as if a double has taken the place of a family member, friend or acquaintance?", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},

    //         {prompt: "42. Do you ever see objects, people or animals that other people cannot see? ", required: true, labels: scale4},
    //         {prompt: "If you selected never, please go to the next question.  If you selected sometimes, often or nearly always please indicate how distressed you are by this experience", required: false, labels: scale5},


    //     ],
    //     randomize_question_order: false,
    //     scale_width: 1200,
    //     save_trial_parameters: {
    //         choices: true,
    //         prompt: true
    //     }
    // }
    // //   timeline.push(Personality_intro, BFI10, CAPE42);



    // // // Screening portion of the questionaire
    // var page_1_options = ["Yes", "No"];
    // var multi_choice_block_horizontal = {
    //     type: jsPsychSurveyMultiChoice,
    //     questions: [
    //         {prompt: "You are between the age of 21 - 50 years old", options: page_1_options, required: true, },
    //         {prompt: "You have no history of psychiatric, neurological disorders, no family history (first-degree relatives) of psychiatric disorders.", options: page_1_options, required: true, },
    //         {prompt: "You are currently receiving CNS medication including any psychotropic medications.", options: page_1_options, required: true, },
    //         {prompt: "You have a current or history of criminal records.", options: page_1_options, required: true, },
    //         {prompt: "You have no visual deficiencies.", options: page_1_options, required: true, },
    //         {prompt: "You have extensive experience with Deepfakes and AI face generation.", options: page_1_options, required: true, }

    //     ]
    // }
    //     //    timeline.push(multi_choice_block_horizontal)
        //Debrefing message after the test trials
        // var debrief = {
        //     type: jsPsychHtmlKeyboardResponse,
        //     choices: ['c'],
        //     stimulus: function () {
        //         var message =

        //             "<u><b>Study Debriefing </b> </u>""
        // / "<p>This study is concerned with the factors that drive human perception regardless of reality, particularly in discerning online facial images. In a world where AI-synthesized content has been increasingly in use and deepfakes are made to fool and misdirect others, previous studies have found that synthetically generated faces are not just highly photorealistic, they are nearly indistinguishable from real faces and are judged more trustworthy (Nightingale & Farid, 2022). They were also able to conclude that although humans could not reliably discriminate between real and realistic fake faces, they are able to decode differences in generated and real faces from neural activity (Moshel et al., 2020). Moreover, we humans retain a mental expectation of what a face can be, as photorealistic virtual humans cause uncanny valley (the discomfort humans feel when they see an AI-generated face that is so realistic).  However, what drives perception regardless of reality? Many of the aforementioned studies attempt to explain how humans distinguish generated and real faces, but none addressed the perceptions humans come equipped that drives their judgement on what is real and not.  Why do some individuals say an image is real, while others say it is computer generated? This study focuses on the variables that contribute to the decision making of individuals that causes differences in perception on whether a face is AI generated, while controlling objective differences of faces.</p> "
    //             + "<u><b>How was this tested?</b> </u>" +
    //             "<p> In this study, you were asked to identify and differentiate facial images, then answer the accompany questionnaire regarding the traits of the facial image. However, all facial images were of real faces, obtained from the American Multiracial Faces Database, AMFD (Chen et al., 2020). The true purpose of the study was to find out the factors behind human visual perception of synthetic faces, to distinguish real and fake faces. The deception was necessary to ensure the answers are authentic and not influenced by the accompanying knowledge or stereotypes of the type of facial image, to maintain psychological realism. This can lead to a possible confound and prevent the answers in the questionnaire to be confidently deduced and attributed. All participants also performed the same tasks and questions. </p> " +
    //             "<u><b>Hypotheses and main questions:</b> </u>" +
    //             "<p>We expect to find that higher trustworthiness, attractiveness, and symmetrical ratings will be contribute to the perception of facial images to be computer generated. Additionally, similarity ratings will correlate with trustworthiness ratings. Symmetrical and attractiveness ratings will also correlate. Facial images that were deduced to be real were perceived from more warmth, have higher distinctiveness ratings and approachability. </p> " +
    //             "<p>All the data collected in this experiment is confidential and your data will only be viewed by the researchers and project supervisor. At the end of the experiment, there will be a full debrief of the full experiment.</p> " +
    //             "<p>We are also interested in the influence of personality and psychopathology on reality perception. We suspect that there is inter-individual variability among healthy participants on their subjective perceptions of reality. Thus, participants were made to fill up the Big Five Invetory-10 (BFI-10) to measure the personality of the participant via the Big Five personality traits (openness, extraversion, agreeableness, conscientiousness, and neuroticism). Additionally, participants were also tasked to fill out the Community Assessment of Psychic Experiences (CAPE-42) self-report questionnaire to screen psychosis which may have correlations with their beliefs on reality (Stefanis et al., 2002). The 2 questionnaires in conjunction will enable the research team to draw links between inter-individual reality perception and differences. </p> " +
    //             "<u><b>Why is this important to study?.</b> </u> " +
    //             "<p>Understanding how inter-individual differences in perception will enable measures to be brought up to protect individuals from falling for scams and fake news which has been increasingly used with the advancement of technology. As the prevalence of deep fakes and improvement of AI continues, reality perception will become a more pressing topic for national security and law enforcement agencies (Congressional Research Service , 2022; Hwang, 2020).The findings from this study would allow us to identify traits and factors that contribute to the perception of AI-generated and real faces, in a situation which resembles real-world situations where individuals have to identify if the information seen online is actually real. Conversely on the flip side, the knowledge attained on the correlations between personality, psychosis and reality perception will be useful to help businesses leverage on individual differences to better tune for targeted marketing and advertising.</p> " +
    //             "<u><b>What if I want to know more?</b> </u> " +
    //             "<p>If you are interested in learning more about the problems people encounter in trying to control their thoughts, you may want to consult:</p> " +
    //             "<p>If you have concerns about your rights as a participant in this experiment, please contact </p> " +
    //             "<p>All the data collected in this experiment is confidential and your data will only be viewed by the researchers and project supervisor. If you wish for your data to be withdrawn from the study, you can do so up to 3 weeks after the study by e-mailing either of the researchers and quoting your participant number written at the top of this debrief.</p> " +
    //             "<p>Thank you again for your participation.</p> " +

    //             "<p>Press c to end this experiment.</p>";
    //         return message;
    //     }
    // };
    // timeline.push(debrief);*/



    // select all trials
    // var all_data = jsPsych.data.get();

    // // get csv representation of data and log to console
    // console.log(all_data.csv());
    // jsPsych.data.get().count()
    // console.log(jsPsych.data.get().csv());


</script>

</html>